# æ™ºèƒ½åˆçº¦åº“æ·±å…¥ç¯‡

> ğŸ’ **å­¦ä¹ å·¥ä¸šçº§ä»£ç çš„æœ€ä½³å®è·µ**
> 
> â±ï¸ é¢„è®¡å­¦ä¹ æ—¶é—´ï¼š**20-25å°æ—¶**

---

## ğŸ¯ å‰ç½®çŸ¥è¯†ï¼ˆå¿…è¯»ï¼ï¼‰âš ï¸

### è¯·ç¡®ä¿å·²ç»å­¦ä¹ ï¼š

```
âœ… 03-Solidity/3.6-ä»£ç è§„èŒƒ â­â­â­
   â””â”€ çŸ¥é“ä»€ä¹ˆæ˜¯å¥½ä»£ç 

âœ… 08-åŸºç¡€å®‰å…¨ç¯‡ â­â­â­
   â””â”€ ç†è§£é‡å…¥ã€æº¢å‡ºã€è®¿é—®æ§åˆ¶

âœ… 12-Gasä¼˜åŒ–ç¯‡/12.1-12.3 â­â­
   â””â”€ ç†è§£å˜é‡æ‰“åŒ…ã€unchecked
```

### ä¸ºä»€ä¹ˆè¿™äº›æ˜¯å‰ç½®çŸ¥è¯†ï¼Ÿ

```
æ²¡æœ‰å‰ç½®çŸ¥è¯†ï¼š
â”œâ”€ è¯»OpenZeppelinæºç 
â”œâ”€ çœ‹åˆ°ReentrancyGuard ğŸ¤” ä¸æ‡‚
â”œâ”€ çœ‹åˆ°unchecked ğŸ¤” ä¸æ‡‚
â”œâ”€ çœ‹åˆ°å˜é‡æ‰“åŒ… ğŸ¤” ä¸æ‡‚
â””â”€ åªèƒ½ç…§æŠ„ï¼Œå­¦ä¸åˆ°ç²¾é«“ âŒ

æœ‰äº†å‰ç½®çŸ¥è¯†ï¼š
â”œâ”€ è¯»OpenZeppelinæºç 
â”œâ”€ çœ‹åˆ°ReentrancyGuard âœ… æ‡‚ï¼é˜²é‡å…¥
â”œâ”€ çœ‹åˆ°unchecked âœ… æ‡‚ï¼å·²æ£€æŸ¥
â”œâ”€ çœ‹åˆ°å˜é‡æ‰“åŒ… âœ… æ‡‚ï¼çœGas
â””â”€ ç†è§£è®¾è®¡ï¼Œèƒ½ä¸¾ä¸€åä¸‰ âœ…
```

---

## ğŸ“š æœ¬ç« å†…å®¹

### 5.1-OpenZeppelinæ·±å…¥ (12å°æ—¶) â­â­â­

#### ä¸ºä»€ä¹ˆå­¦OpenZeppelinï¼Ÿ

- âœ… **äº‹å®æ ‡å‡†**ï¼š90%çš„é¡¹ç›®éƒ½åœ¨ç”¨
- âœ… **ç»è¿‡å®¡è®¡**ï¼šæœ€å®‰å…¨çš„ä»£ç 
- âœ… **æœ€ä½³å®è·µ**ï¼šå­¦ä¹ å·¥ä¸šçº§ä»£ç 
- âœ… **é«˜è´¨é‡**ï¼šä»£ç è§„èŒƒã€æ³¨é‡Šå®Œæ•´

#### å­¦ä¹ é‡ç‚¹

**02-è®¿é—®æ§åˆ¶åº“**
- Ownableæºç è§£æ
  - ç°åœ¨èƒ½ç†è§£onlyOwnerä¿®é¥°ç¬¦äº†ï¼
- AccessControlæºç 
  - ç°åœ¨èƒ½ç†è§£è§’è‰²æƒé™è®¾è®¡äº†ï¼

**03-ä»£å¸åº“**
- **ERC20æºç é€è¡Œè§£æ** â­â­â­
  - çœ‹åˆ°_update hookï¼šâœ… ç†è§£è®¾è®¡æ¨¡å¼
  - çœ‹åˆ°uncheckedï¼šâœ… ç†è§£å·²æ£€æŸ¥è¿‡
  - çœ‹åˆ°å˜é‡æ‰“åŒ…ï¼šâœ… ç†è§£çœGas
  - çœ‹åˆ°è‡ªå®šä¹‰é”™è¯¯ï¼šâœ… ç†è§£çœGas
- ERC721æºç è§£æ
- æ‰©å±•åº“ï¼šBurnableã€Pausableç­‰

**04-å®‰å…¨å·¥å…·åº“**
- **ReentrancyGuardæºç è§£æ** â­
  - ç°åœ¨å®Œå…¨ç†è§£é‡å…¥é˜²å¾¡äº†ï¼
- Pausableè¯¦è§£
  - ç°åœ¨ç†è§£ä¸ºä»€ä¹ˆéœ€è¦æš‚åœï¼

**05-å·¥å…·åº“**
- Addressåº“ã€Stringsåº“
- ECDSAç­¾ååº“
- MerkleProofåº“
- EnumerableSet

**06-ä»£ç†ä¸å‡çº§åº“**
- é€æ˜ä»£ç†æºç 
- UUPSä»£ç†æºç 
- å‡çº§æœ€ä½³å®è·µ

**07-æ²»ç†åº“**
- Governoræºç 
- TimelockController

**08-é‡‘èåº“**
- PaymentSplitter
- VestingWallet
- ERC4626é‡‘åº“

---

### 5.2-Solmateåº“ (4å°æ—¶) â­â­

#### ä¸ºä»€ä¹ˆå­¦Solmateï¼Ÿ

- âœ… **Gasä¼˜åŒ–æè‡´**ï¼šæ¯”OZæ›´ä¼˜åŒ–
- âœ… **ä»£ç ç®€æ´**ï¼šç²¾ç®€è®¾è®¡
- âœ… **å­¦ä¹ ä¼˜åŒ–**ï¼šæœ€ä½³Gaså®è·µ

#### å­¦ä¹ é‡ç‚¹

```
å¯¹æ¯”å­¦ä¹ ï¼š
OpenZeppelin vs Solmate

ERC20å®ç°å¯¹æ¯”ï¼š
- OZï¼šå®Œæ•´ã€å®‰å…¨ç¬¬ä¸€
- Solmateï¼šç²¾ç®€ã€Gasç¬¬ä¸€

ä½•æ—¶é€‰OZï¼Ÿä½•æ—¶é€‰Solmateï¼Ÿ
â†’ ç°åœ¨èƒ½ç†è§£æƒè¡¡äº†ï¼
```

---

### 5.3-Soladyåº“ (2å°æ—¶)
- æè‡´Gasä¼˜åŒ–
- æ±‡ç¼–ä¼˜åŒ–æŠ€å·§

### 5.4-PRBMathåº“ (2å°æ—¶)
- å®šç‚¹æ•°æ•°å­¦
- DeFiè®¡ç®—

### 5.5-Chainlinkåº“ (2å°æ—¶)
- AggregatorV3Interface
- VRFConsumerBase

### 5.6-åº“çš„é€‰æ‹©ä¸å¯¹æ¯” (1å°æ—¶) â­
- å®‰å…¨ vs æ€§èƒ½
- å®Œæ•´ vs ç²¾ç®€
- é€‰æ‹©å†³ç­–æ ‘

---

## ğŸ“ å­¦ä¹ æ–¹æ³•

### ä¸åªæ˜¯"ä¼šç”¨"ï¼Œæ›´è¦"ç†è§£"

```
å±‚æ¬¡1ï¼šä¼šç”¨ï¼ˆè°ƒç”¨APIï¼‰
   import "@openzeppelin/contracts/token/ERC20/ERC20.sol";
   contract MyToken is ERC20 { ... }

å±‚æ¬¡2ï¼šç†è§£ï¼ˆè¯»æ‡‚æºç ï¼‰
   ä¸ºä»€ä¹ˆ_updateå‡½æ•°è¿™æ ·è®¾è®¡ï¼Ÿ
   ä¸ºä»€ä¹ˆç”¨uncheckedï¼Ÿ
   ä¸ºä»€ä¹ˆå˜é‡è¿™æ ·æ‰“åŒ…ï¼Ÿ

å±‚æ¬¡3ï¼šåº”ç”¨ï¼ˆä¸¾ä¸€åä¸‰ï¼‰
   èƒ½è‡ªå·±å®ç°ç±»ä¼¼çš„ä¼˜åŒ–
   èƒ½ç»„åˆä½¿ç”¨å¤šä¸ªåº“
   èƒ½è‡ªå®šä¹‰æ‰©å±•

ç›®æ ‡ï¼šè¾¾åˆ°å±‚æ¬¡3ï¼
```

### å­¦ä¹ æ¯ä¸ªåº“çš„æ–¹æ³•

```
ç¬¬1æ­¥ï¼šå¿«é€Ÿä½¿ç”¨ï¼ˆ0.5hï¼‰
   â”œâ”€ å®‰è£…åº“
   â”œâ”€ å¯¼å…¥ä½¿ç”¨
   â””â”€ è·‘é€šç¤ºä¾‹

ç¬¬2æ­¥ï¼šé˜…è¯»æ–‡æ¡£ï¼ˆ0.5hï¼‰
   â”œâ”€ å®˜æ–¹æ–‡æ¡£
   â”œâ”€ æ¥å£å®šä¹‰
   â””â”€ ä½¿ç”¨åœºæ™¯

ç¬¬3æ­¥ï¼šæºç è§£æï¼ˆ2-3hï¼‰â­
   â”œâ”€ é€è¡Œé˜…è¯»
   â”œâ”€ ç†è§£è®¾è®¡
   â”œâ”€ è¯†åˆ«æ¨¡å¼
   â””â”€ å­¦ä¹ æŠ€å·§

ç¬¬4æ­¥ï¼šå¯¹æ¯”å­¦ä¹ ï¼ˆ0.5hï¼‰
   â”œâ”€ OZ vs Solmate
   â”œâ”€ ä¼˜ç¼ºç‚¹
   â””â”€ é€‰æ‹©æ ‡å‡†

ç¬¬5æ­¥ï¼šå®æˆ˜åº”ç”¨ï¼ˆ1hï¼‰
   â”œâ”€ ç»„åˆä½¿ç”¨
   â”œâ”€ è‡ªå®šä¹‰æ‰©å±•
   â””â”€ å®é™…é¡¹ç›®
```

---

## ğŸ’¡ å­¦ä¹ ä»·å€¼

### å­¦OpenZeppelinèƒ½å­¦åˆ°ä»€ä¹ˆï¼Ÿ

#### å®‰å…¨æœ€ä½³å®è·µ

```solidity
// å­¦åˆ°ï¼šæ£€æŸ¥-ç”Ÿæ•ˆ-äº¤äº’æ¨¡å¼
function transfer(address to, uint256 amount) public {
    // 1. æ£€æŸ¥
    require(to != address(0));
    require(_balances[msg.sender] >= amount);
    
    // 2. ç”Ÿæ•ˆ
    _balances[msg.sender] -= amount;
    _balances[to] += amount;
    
    // 3. äº¤äº’ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰
    emit Transfer(msg.sender, to, amount);
}
```

#### Gasä¼˜åŒ–æŠ€å·§

```solidity
// å­¦åˆ°ï¼šå˜é‡æ‰“åŒ…
uint128 a;  // slot 0 [0:15]
uint64 b;   // slot 0 [16:23]
uint64 c;   // slot 0 [24:31]
// ä¸€ä¸ªslotå­˜3ä¸ªå˜é‡ï¼Œçœ2æ¬¡SLOADï¼

// å­¦åˆ°ï¼šuncheckedä½¿ç”¨
unchecked {
    _balances[from] -= amount;  // ä¸Šé¢å·²æ£€æŸ¥ï¼Œå®‰å…¨
}
```

#### è®¾è®¡æ¨¡å¼

```solidity
// å­¦åˆ°ï¼šHookæ¨¡å¼
function _update(address from, address to, uint256 amount) internal virtual {
    // æ ¸å¿ƒé€»è¾‘
}

// æ‰©å±•æ—¶åªéœ€override
function _update(...) internal override {
    // è‡ªå®šä¹‰é€»è¾‘
    super._update(...);
}
```

---

## âœ… å­¦ä¹ æ£€æŸ¥æ¸…å•

### OpenZeppelin âœ…
- [ ] è¯»å®ŒERC20æºç 
- [ ] è¯»å®ŒERC721æºç 
- [ ] ç†è§£ReentrancyGuardè®¾è®¡
- [ ] ç†è§£Ownableè®¾è®¡
- [ ] ç†è§£ä»£ç†æ¨¡å¼
- [ ] èƒ½ç»„åˆä½¿ç”¨å¤šä¸ªæ‰©å±•

### Solmate âœ…
- [ ] ç†è§£ä¸OZçš„åŒºåˆ«
- [ ] ç†è§£Gasä¼˜åŒ–æŠ€å·§
- [ ] çŸ¥é“ä½•æ—¶é€‰Solmate

### ç»¼åˆèƒ½åŠ› âœ…
- [ ] èƒ½é€‰æ‹©åˆé€‚çš„åº“
- [ ] èƒ½è‡ªå®šä¹‰æ‰©å±•
- [ ] èƒ½å†™å‡ºç±»ä¼¼è´¨é‡çš„ä»£ç 

---

## ğŸš€ å®Œæˆå

ä½ å°†èƒ½å¤Ÿï¼š
- âœ… å¿«é€Ÿå¼€å‘é«˜è´¨é‡åˆçº¦
- âœ… ç†è§£å·¥ä¸šçº§ä»£ç è®¾è®¡
- âœ… æŒæ¡å®‰å…¨å’Œä¼˜åŒ–æœ€ä½³å®è·µ
- âœ… å†™å‡ºproduction-readyçš„ä»£ç 

---

**Learn from the best! ğŸ’ğŸ†**
