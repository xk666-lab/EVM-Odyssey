# EIP-165 æ¥å£æ£€æµ‹

> ğŸ“ å¾…ç¼–å†™

## å­¦ä¹ ç›®æ ‡

- ç†è§£ä¸ºä»€ä¹ˆéœ€è¦æ¥å£æ£€æµ‹
- æŒæ¡ ERC-165 çš„å®ç°æ–¹å¼
- å­¦ä¼šè®¡ç®—æ¥å£ ID
- ç†è§£å®é™…åº”ç”¨åœºæ™¯

## å¤§çº²

### 1. ä¸ºä»€ä¹ˆéœ€è¦æ¥å£æ£€æµ‹ï¼Ÿ

#### 1.1 é—®é¢˜åœºæ™¯
- å¦‚ä½•çŸ¥é“åˆçº¦æ”¯æŒå“ªäº›æ ‡å‡†ï¼Ÿ
- å¦‚ä½•åˆ¤æ–­åˆçº¦æ˜¯å¦æ”¯æŒ ERC-721ï¼Ÿ
- é¿å…è°ƒç”¨ä¸å­˜åœ¨çš„å‡½æ•°

### 2. ERC-165 æ¥å£

```solidity
interface IERC165 {
    function supportsInterface(bytes4 interfaceId) external view returns (bool);
}
```

### 3. æ¥å£ ID çš„è®¡ç®—

```solidity
bytes4 interfaceId = type(IERC721).interfaceId;
// æˆ–
bytes4 interfaceId = IERC721.transferFrom.selector ^ 
                     IERC721.safeTransferFrom.selector ^ 
                     // ... æ‰€æœ‰å‡½æ•°é€‰æ‹©å™¨çš„å¼‚æˆ–
```

### 4. å®ç°ç¤ºä¾‹

```solidity
contract MyNFT is ERC721, IERC165 {
    function supportsInterface(bytes4 interfaceId) 
        public 
        view 
        override 
        returns (bool) 
    {
        return interfaceId == type(IERC721).interfaceId ||
               interfaceId == type(IERC165).interfaceId;
    }
}
```

### 5. åº”ç”¨åœºæ™¯

- NFT å¸‚åœºæ£€æµ‹åˆçº¦ç±»å‹
- DeFi åè®®æ£€æµ‹ä»£å¸æ ‡å‡†
- å¤šæ ‡å‡†å…¼å®¹æ€§æ£€æŸ¥

---

## âœ… æ£€æŸ¥æ¸…å•

- [ ] ç†è§£æ¥å£æ£€æµ‹çš„å¿…è¦æ€§
- [ ] æŒæ¡ supportsInterface å®ç°
- [ ] ä¼šè®¡ç®—æ¥å£ ID
- [ ] äº†è§£å®é™…åº”ç”¨

---

## ğŸ“š å‚è€ƒèµ„æ–™

- [EIP-165 å®˜æ–¹æ–‡æ¡£](https://eips.ethereum.org/EIPS/eip-165)

